{"version":3,"sources":["../src/ComputerDisplay.tsx","../src/useVNC.ts"],"sourcesContent":["'use client';\n\nimport { useMemo, useImperativeHandle, forwardRef, useState, useEffect } from 'react';\nimport { useVNC } from './useVNC';\nimport type { ComputerDisplayProps, ComputerDisplayRef } from './types';\n\nexport const ComputerDisplay = forwardRef<ComputerDisplayRef, ComputerDisplayProps>(({\n  instanceId,\n  password,\n  readOnly = false,\n  background = '#1E1E1E',\n  className,\n  style,\n  scaleViewport = true,\n  clipViewport = true,\n  resizeSession = true,\n  showDotCursor = true,\n  compressionLevel = 2,\n  qualityLevel = 6,\n  onConnect,\n  onDisconnect,\n  onError,\n  onClipboard,\n}, ref) => {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const url = useMemo(() => mounted ? `wss://${instanceId}.orgo.dev/websockify` : '', [instanceId, mounted]);\n\n  const credentials = useMemo(() => ({\n    username: 'user',\n    password,\n    target: `${instanceId}.orgo.dev`,\n  }), [instanceId, password]);\n\n  const {\n    vncRef,\n    isConnected,\n    reconnect,\n    disconnect,\n    sendClipboard,\n    pasteFromClipboard,\n  } = useVNC({\n    url,\n    credentials,\n    background,\n    viewOnly: readOnly,\n    scaleViewport,\n    clipViewport,\n    resizeSession,\n    showDotCursor,\n    compressionLevel,\n    qualityLevel,\n    onConnect,\n    onDisconnect,\n    onError,\n    onClipboard,\n  });\n\n  useImperativeHandle(ref, () => ({\n    reconnect,\n    disconnect,\n    sendClipboard,\n    pasteFromClipboard,\n    isConnected,\n  }), [reconnect, disconnect, sendClipboard, pasteFromClipboard, isConnected]);\n\n  if (!mounted) {\n    return (\n      <div\n        className={className}\n        style={{\n          width: '100%',\n          height: '100%',\n          background,\n          ...style,\n        }}\n      />\n    );\n  }\n\n  return (\n    <div\n      ref={vncRef}\n      className={className}\n      style={{\n        width: '100%',\n        height: '100%',\n        background,\n        pointerEvents: readOnly ? 'none' : 'auto',\n        cursor: readOnly ? 'default' : 'none',\n        opacity: isConnected ? 1 : 0,\n        transition: 'opacity 0.3s ease-in-out',\n        ...style,\n      }}\n    />\n  );\n});\n\nComputerDisplay.displayName = 'ComputerDisplay';","import { useState, useEffect, useRef, useCallback } from 'react';\nimport type { UseVNCConfig, UseVNCReturn } from './types';\n\ntype RFBType = typeof import('@novnc/novnc/lib/rfb').default;\n\ninterface ExtendedRFB {\n  _eventListeners?: Record<string, EventListener[]>;\n  _sock?: { _websocket?: WebSocket };\n  viewOnly: boolean;\n  scaleViewport: boolean;\n  clipViewport: boolean;\n  resizeSession: boolean;\n  background: string;\n  compressionLevel: number;\n  qualityLevel: number;\n  showDotCursor: boolean;\n  focusOnClick: boolean;\n  disconnect(): void;\n  addEventListener(type: string, listener: EventListener): void;\n  removeEventListener(type: string, listener: EventListener): void;\n  clipboardPasteFrom(text: string): void;\n}\n\nexport function useVNC({\n  url,\n  credentials,\n  background = '#1E1E1E',\n  viewOnly = false,\n  scaleViewport = true,\n  clipViewport = true,\n  resizeSession = true,\n  showDotCursor = true,\n  compressionLevel = 2,\n  qualityLevel = 6,\n  onConnect,\n  onDisconnect,\n  onError,\n  onClipboard,\n}: UseVNCConfig): UseVNCReturn {\n  const vncRef = useRef<HTMLDivElement>(null);\n  const rfbRef = useRef<ExtendedRFB | null>(null);\n  const RFBRef = useRef<RFBType | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const isMounted = useRef(true);\n  const isDisconnecting = useRef(false);\n  const retryTimer = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const retryCount = useRef(0);\n  const connecting = useRef(false);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !RFBRef.current) {\n      import('@novnc/novnc/lib/rfb').then(mod => {\n        RFBRef.current = mod.default;\n      });\n    }\n  }, []);\n\n  const disconnect = useCallback(() => {\n    if (isDisconnecting.current) return;\n    isDisconnecting.current = true;\n\n    if (retryTimer.current) {\n      clearTimeout(retryTimer.current);\n      retryTimer.current = null;\n    }\n\n    if (rfbRef.current) {\n      const rfb = rfbRef.current;\n      rfbRef.current = null;\n\n      try {\n        const events = ['connect', 'disconnect', 'credentialsrequired', 'securityfailure', 'clipboard'];\n        events.forEach(event => {\n          const listeners = rfb._eventListeners?.[event];\n          if (Array.isArray(listeners)) {\n            [...listeners].forEach(listener => {\n              try { rfb.removeEventListener(event, listener); } catch {}\n            });\n          }\n        });\n      } catch {}\n\n      try {\n        const ws = rfb._sock?._websocket;\n        if (ws?.readyState === WebSocket.OPEN) {\n          ws.close(1000, 'Normal closure');\n        }\n      } catch {}\n\n      try { rfb.disconnect(); } catch {}\n    }\n\n    isDisconnecting.current = false;\n  }, []);\n\n  const connect = useCallback(() => {\n    if (!vncRef.current || !url || !isMounted.current || connecting.current || isDisconnecting.current || !RFBRef.current) return;\n\n    connecting.current = true;\n\n    setTimeout(() => {\n      if (!isMounted.current || !vncRef.current || !RFBRef.current) {\n        connecting.current = false;\n        return;\n      }\n\n      try {\n        const rfb = new RFBRef.current(vncRef.current, url, {\n          credentials: {\n            username: credentials?.username || '',\n            password: credentials?.password || '',\n            target: credentials?.target || '',\n          },\n          shared: true,\n        }) as unknown as ExtendedRFB;\n\n        rfb.viewOnly = viewOnly;\n        rfb.scaleViewport = scaleViewport;\n        rfb.clipViewport = clipViewport;\n        rfb.resizeSession = resizeSession;\n        rfb.background = background;\n        rfb.compressionLevel = compressionLevel;\n        rfb.qualityLevel = qualityLevel;\n        rfb.showDotCursor = showDotCursor;\n        rfb.focusOnClick = true;\n\n        rfb.addEventListener('connect', (() => {\n          if (!isMounted.current) {\n            try { rfb.disconnect(); } catch {}\n            connecting.current = false;\n            return;\n          }\n          setIsConnected(true);\n          setError(null);\n          retryCount.current = 0;\n          connecting.current = false;\n          onConnect?.();\n        }) as EventListener);\n\n        rfb.addEventListener('clipboard', ((e: Event) => {\n          const detail = (e as CustomEvent<{ text: string }>).detail;\n          if (!isMounted.current || !detail?.text) return;\n          onClipboard?.(detail.text);\n          if (navigator.clipboard?.writeText) {\n            navigator.clipboard.writeText(detail.text).catch(() => {});\n          }\n        }) as EventListener);\n\n        rfb.addEventListener('disconnect', ((e: Event) => {\n          const detail = (e as CustomEvent<{ clean: boolean }>).detail;\n          if (!isMounted.current) {\n            connecting.current = false;\n            return;\n          }\n\n          setIsConnected(false);\n          onDisconnect?.(detail?.clean ?? true);\n\n          if (detail?.clean === false && isMounted.current && retryCount.current < 5) {\n            const delay = Math.min(1000 * Math.pow(1.5, retryCount.current) + Math.random() * 300, 8000);\n            retryTimer.current = setTimeout(() => {\n              if (isMounted.current && !isDisconnecting.current) {\n                retryCount.current++;\n                connecting.current = false;\n                if (rfbRef.current) disconnect();\n                setTimeout(() => isMounted.current && connect(), 100);\n              } else {\n                connecting.current = false;\n              }\n            }, delay);\n            setError(`Reconnecting... (${retryCount.current + 1}/5)`);\n          } else if (detail?.clean === false) {\n            setError('Connection lost');\n            onError?.('Connection lost');\n            connecting.current = false;\n          } else {\n            connecting.current = false;\n          }\n        }) as EventListener);\n\n        rfb.addEventListener('securityfailure', ((e: Event) => {\n          const detail = (e as CustomEvent<{ reason?: string; status?: number }>).detail;\n          if (!isMounted.current) {\n            connecting.current = false;\n            return;\n          }\n          const reason = detail?.reason || `Code ${detail?.status || 'unknown'}`;\n          if (!reason.includes('Resize is administratively prohibited')) {\n            setError(`Security failure: ${reason}`);\n            onError?.(`Security failure: ${reason}`);\n          }\n          connecting.current = false;\n        }) as EventListener);\n\n        rfb.addEventListener('credentialsrequired', (() => {\n          if (!isMounted.current) {\n            connecting.current = false;\n            return;\n          }\n          setError('Credentials required');\n          onError?.('Credentials required');\n          connecting.current = false;\n        }) as EventListener);\n\n        rfbRef.current = rfb;\n\n        setTimeout(() => {\n          if (rfbRef.current && vncRef.current) {\n            window.dispatchEvent(new Event('resize'));\n            const canvas = vncRef.current.querySelector('canvas');\n            if (canvas) {\n              canvas.style.width = '100%';\n              canvas.style.height = '100%';\n            }\n          }\n        }, 500);\n      } catch (err) {\n        if (!isMounted.current) {\n          connecting.current = false;\n          return;\n        }\n        const message = err instanceof Error ? err.message : 'Unknown error';\n        setError(`Connection error: ${message}`);\n        onError?.(message);\n        connecting.current = false;\n\n        if (retryCount.current < 3 && isMounted.current) {\n          retryTimer.current = setTimeout(() => {\n            if (isMounted.current && !isDisconnecting.current) {\n              retryCount.current++;\n              connect();\n            }\n          }, 2000 * Math.pow(1.3, retryCount.current));\n        }\n      }\n    }, isDisconnecting.current ? 200 : 50);\n  }, [url, credentials, background, viewOnly, scaleViewport, clipViewport, resizeSession, showDotCursor, compressionLevel, qualityLevel, onConnect, onDisconnect, onError, onClipboard, disconnect]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    \n    const initTimer = setTimeout(() => {\n      if (RFBRef.current && url && isMounted.current) {\n        connect();\n      } else if (!RFBRef.current && typeof window !== 'undefined') {\n        import('@novnc/novnc/lib/rfb').then(mod => {\n          RFBRef.current = mod.default;\n          if (url && isMounted.current) connect();\n        });\n      }\n    }, 100);\n\n    return () => {\n      isMounted.current = false;\n      clearTimeout(initTimer);\n      if (retryTimer.current) clearTimeout(retryTimer.current);\n      if (rfbRef.current) {\n        try {\n          rfbRef.current._sock?._websocket?.close(1000, 'Normal closure');\n          rfbRef.current.disconnect();\n        } catch {}\n        rfbRef.current = null;\n      }\n      isDisconnecting.current = false;\n      connecting.current = false;\n    };\n  }, [url, credentials, connect, disconnect]);\n\n  const reconnect = useCallback(() => {\n    if (isDisconnecting.current || connecting.current) return;\n    retryCount.current = 0;\n    setError(null);\n    disconnect();\n    setTimeout(() => isMounted.current && connect(), 200);\n  }, [connect, disconnect]);\n\n  const sendClipboard = useCallback((text: string) => {\n    if (rfbRef.current && isConnected && text) {\n      try {\n        rfbRef.current.clipboardPasteFrom(text);\n        return true;\n      } catch {}\n    }\n    return false;\n  }, [isConnected]);\n\n  const pasteFromClipboard = useCallback(async () => {\n    if (rfbRef.current && isConnected) {\n      try {\n        const text = await navigator.clipboard.readText();\n        if (text) {\n          rfbRef.current.clipboardPasteFrom(text);\n          return true;\n        }\n      } catch {}\n    }\n    return false;\n  }, [isConnected]);\n\n  return { vncRef, isConnected, error, reconnect, disconnect, sendClipboard, pasteFromClipboard };\n}"],"mappings":"AAEA,OAAS,WAAAA,EAAS,uBAAAC,EAAqB,cAAAC,EAAY,YAAAC,EAAU,aAAAC,MAAiB,QCF9E,OAAS,YAAAC,EAAU,aAAAC,EAAW,UAAAC,EAAQ,eAAAC,MAAmB,QAuBlD,SAASC,EAAO,CACrB,IAAAC,EACA,YAAAC,EACA,WAAAC,EAAa,UACb,SAAAC,EAAW,GACX,cAAAC,EAAgB,GAChB,aAAAC,EAAe,GACf,cAAAC,EAAgB,GAChB,cAAAC,EAAgB,GAChB,iBAAAC,EAAmB,EACnB,aAAAC,EAAe,EACf,UAAAC,EACA,aAAAC,EACA,QAAAC,EACA,YAAAC,CACF,EAA+B,CAC7B,IAAMC,EAASjB,EAAuB,IAAI,EACpCkB,EAASlB,EAA2B,IAAI,EACxCmB,EAASnB,EAAuB,IAAI,EACpC,CAACoB,EAAaC,CAAc,EAAIvB,EAAS,EAAK,EAC9C,CAACwB,EAAOC,CAAQ,EAAIzB,EAAwB,IAAI,EAEhD0B,EAAYxB,EAAO,EAAI,EACvByB,EAAkBzB,EAAO,EAAK,EAC9B0B,EAAa1B,EAA6C,IAAI,EAC9D2B,EAAa3B,EAAO,CAAC,EACrB4B,EAAa5B,EAAO,EAAK,EAE/BD,EAAU,IAAM,CACV,OAAO,OAAW,KAAe,CAACoB,EAAO,SAC3C,OAAO,sBAAsB,EAAE,KAAKU,GAAO,CACzCV,EAAO,QAAUU,EAAI,OACvB,CAAC,CAEL,EAAG,CAAC,CAAC,EAEL,IAAMC,EAAa7B,EAAY,IAAM,CACnC,GAAI,CAAAwB,EAAgB,QAQpB,IAPAA,EAAgB,QAAU,GAEtBC,EAAW,UACb,aAAaA,EAAW,OAAO,EAC/BA,EAAW,QAAU,MAGnBR,EAAO,QAAS,CAClB,IAAMa,EAAMb,EAAO,QACnBA,EAAO,QAAU,KAEjB,GAAI,CACa,CAAC,UAAW,aAAc,sBAAuB,kBAAmB,WAAW,EACvF,QAAQc,GAAS,CACtB,IAAMC,EAAYF,EAAI,kBAAkBC,CAAK,EACzC,MAAM,QAAQC,CAAS,GACzB,CAAC,GAAGA,CAAS,EAAE,QAAQC,GAAY,CACjC,GAAI,CAAEH,EAAI,oBAAoBC,EAAOE,CAAQ,CAAG,MAAQ,CAAC,CAC3D,CAAC,CAEL,CAAC,CACH,MAAQ,CAAC,CAET,GAAI,CACF,IAAMC,EAAKJ,EAAI,OAAO,WAClBI,GAAI,aAAe,UAAU,MAC/BA,EAAG,MAAM,IAAM,gBAAgB,CAEnC,MAAQ,CAAC,CAET,GAAI,CAAEJ,EAAI,WAAW,CAAG,MAAQ,CAAC,CACnC,CAEAN,EAAgB,QAAU,GAC5B,EAAG,CAAC,CAAC,EAECW,EAAUnC,EAAY,IAAM,CAC5B,CAACgB,EAAO,SAAW,CAACd,GAAO,CAACqB,EAAU,SAAWI,EAAW,SAAWH,EAAgB,SAAW,CAACN,EAAO,UAE9GS,EAAW,QAAU,GAErB,WAAW,IAAM,CACf,GAAI,CAACJ,EAAU,SAAW,CAACP,EAAO,SAAW,CAACE,EAAO,QAAS,CAC5DS,EAAW,QAAU,GACrB,MACF,CAEA,GAAI,CACF,IAAMG,EAAM,IAAIZ,EAAO,QAAQF,EAAO,QAASd,EAAK,CAClD,YAAa,CACX,SAAUC,GAAa,UAAY,GACnC,SAAUA,GAAa,UAAY,GACnC,OAAQA,GAAa,QAAU,EACjC,EACA,OAAQ,EACV,CAAC,EAED2B,EAAI,SAAWzB,EACfyB,EAAI,cAAgBxB,EACpBwB,EAAI,aAAevB,EACnBuB,EAAI,cAAgBtB,EACpBsB,EAAI,WAAa1B,EACjB0B,EAAI,iBAAmBpB,EACvBoB,EAAI,aAAenB,EACnBmB,EAAI,cAAgBrB,EACpBqB,EAAI,aAAe,GAEnBA,EAAI,iBAAiB,WAAY,IAAM,CACrC,GAAI,CAACP,EAAU,QAAS,CACtB,GAAI,CAAEO,EAAI,WAAW,CAAG,MAAQ,CAAC,CACjCH,EAAW,QAAU,GACrB,MACF,CACAP,EAAe,EAAI,EACnBE,EAAS,IAAI,EACbI,EAAW,QAAU,EACrBC,EAAW,QAAU,GACrBf,IAAY,CACd,EAAmB,EAEnBkB,EAAI,iBAAiB,aAAeM,GAAa,CAC/C,IAAMC,EAAUD,EAAoC,OAChD,CAACb,EAAU,SAAW,CAACc,GAAQ,OACnCtB,IAAcsB,EAAO,IAAI,EACrB,UAAU,WAAW,WACvB,UAAU,UAAU,UAAUA,EAAO,IAAI,EAAE,MAAM,IAAM,CAAC,CAAC,EAE7D,EAAmB,EAEnBP,EAAI,iBAAiB,cAAgBM,GAAa,CAChD,IAAMC,EAAUD,EAAsC,OACtD,GAAI,CAACb,EAAU,QAAS,CACtBI,EAAW,QAAU,GACrB,MACF,CAKA,GAHAP,EAAe,EAAK,EACpBP,IAAewB,GAAQ,OAAS,EAAI,EAEhCA,GAAQ,QAAU,IAASd,EAAU,SAAWG,EAAW,QAAU,EAAG,CAC1E,IAAMY,EAAQ,KAAK,IAAI,IAAO,KAAK,IAAI,IAAKZ,EAAW,OAAO,EAAI,KAAK,OAAO,EAAI,IAAK,GAAI,EAC3FD,EAAW,QAAU,WAAW,IAAM,CAChCF,EAAU,SAAW,CAACC,EAAgB,SACxCE,EAAW,UACXC,EAAW,QAAU,GACjBV,EAAO,SAASY,EAAW,EAC/B,WAAW,IAAMN,EAAU,SAAWY,EAAQ,EAAG,GAAG,GAEpDR,EAAW,QAAU,EAEzB,EAAGW,CAAK,EACRhB,EAAS,oBAAoBI,EAAW,QAAU,CAAC,KAAK,CAC1D,MAAWW,GAAQ,QAAU,KAC3Bf,EAAS,iBAAiB,EAC1BR,IAAU,iBAAiB,GAC3Ba,EAAW,QAAU,EAIzB,EAAmB,EAEnBG,EAAI,iBAAiB,mBAAqBM,GAAa,CACrD,IAAMC,EAAUD,EAAwD,OACxE,GAAI,CAACb,EAAU,QAAS,CACtBI,EAAW,QAAU,GACrB,MACF,CACA,IAAMY,EAASF,GAAQ,QAAU,QAAQA,GAAQ,QAAU,SAAS,GAC/DE,EAAO,SAAS,uCAAuC,IAC1DjB,EAAS,qBAAqBiB,CAAM,EAAE,EACtCzB,IAAU,qBAAqByB,CAAM,EAAE,GAEzCZ,EAAW,QAAU,EACvB,EAAmB,EAEnBG,EAAI,iBAAiB,uBAAwB,IAAM,CACjD,GAAI,CAACP,EAAU,QAAS,CACtBI,EAAW,QAAU,GACrB,MACF,CACAL,EAAS,sBAAsB,EAC/BR,IAAU,sBAAsB,EAChCa,EAAW,QAAU,EACvB,EAAmB,EAEnBV,EAAO,QAAUa,EAEjB,WAAW,IAAM,CACf,GAAIb,EAAO,SAAWD,EAAO,QAAS,CACpC,OAAO,cAAc,IAAI,MAAM,QAAQ,CAAC,EACxC,IAAMwB,EAASxB,EAAO,QAAQ,cAAc,QAAQ,EAChDwB,IACFA,EAAO,MAAM,MAAQ,OACrBA,EAAO,MAAM,OAAS,OAE1B,CACF,EAAG,GAAG,CACR,OAASC,EAAK,CACZ,GAAI,CAAClB,EAAU,QAAS,CACtBI,EAAW,QAAU,GACrB,MACF,CACA,IAAMe,EAAUD,aAAe,MAAQA,EAAI,QAAU,gBACrDnB,EAAS,qBAAqBoB,CAAO,EAAE,EACvC5B,IAAU4B,CAAO,EACjBf,EAAW,QAAU,GAEjBD,EAAW,QAAU,GAAKH,EAAU,UACtCE,EAAW,QAAU,WAAW,IAAM,CAChCF,EAAU,SAAW,CAACC,EAAgB,UACxCE,EAAW,UACXS,EAAQ,EAEZ,EAAG,IAAO,KAAK,IAAI,IAAKT,EAAW,OAAO,CAAC,EAE/C,CACF,EAAGF,EAAgB,QAAU,IAAM,EAAE,EACvC,EAAG,CAACtB,EAAKC,EAAaC,EAAYC,EAAUC,EAAeC,EAAcC,EAAeC,EAAeC,EAAkBC,EAAcC,EAAWC,EAAcC,EAASC,EAAac,CAAU,CAAC,EAEjM/B,EAAU,IAAM,CACdyB,EAAU,QAAU,GAEpB,IAAMoB,EAAY,WAAW,IAAM,CAC7BzB,EAAO,SAAWhB,GAAOqB,EAAU,QACrCY,EAAQ,EACC,CAACjB,EAAO,SAAW,OAAO,OAAW,KAC9C,OAAO,sBAAsB,EAAE,KAAKU,GAAO,CACzCV,EAAO,QAAUU,EAAI,QACjB1B,GAAOqB,EAAU,SAASY,EAAQ,CACxC,CAAC,CAEL,EAAG,GAAG,EAEN,MAAO,IAAM,CAIX,GAHAZ,EAAU,QAAU,GACpB,aAAaoB,CAAS,EAClBlB,EAAW,SAAS,aAAaA,EAAW,OAAO,EACnDR,EAAO,QAAS,CAClB,GAAI,CACFA,EAAO,QAAQ,OAAO,YAAY,MAAM,IAAM,gBAAgB,EAC9DA,EAAO,QAAQ,WAAW,CAC5B,MAAQ,CAAC,CACTA,EAAO,QAAU,IACnB,CACAO,EAAgB,QAAU,GAC1BG,EAAW,QAAU,EACvB,CACF,EAAG,CAACzB,EAAKC,EAAagC,EAASN,CAAU,CAAC,EAE1C,IAAMe,EAAY5C,EAAY,IAAM,CAC9BwB,EAAgB,SAAWG,EAAW,UAC1CD,EAAW,QAAU,EACrBJ,EAAS,IAAI,EACbO,EAAW,EACX,WAAW,IAAMN,EAAU,SAAWY,EAAQ,EAAG,GAAG,EACtD,EAAG,CAACA,EAASN,CAAU,CAAC,EAElBgB,EAAgB7C,EAAa8C,GAAiB,CAClD,GAAI7B,EAAO,SAAWE,GAAe2B,EACnC,GAAI,CACF,OAAA7B,EAAO,QAAQ,mBAAmB6B,CAAI,EAC/B,EACT,MAAQ,CAAC,CAEX,MAAO,EACT,EAAG,CAAC3B,CAAW,CAAC,EAEV4B,EAAqB/C,EAAY,SAAY,CACjD,GAAIiB,EAAO,SAAWE,EACpB,GAAI,CACF,IAAM2B,EAAO,MAAM,UAAU,UAAU,SAAS,EAChD,GAAIA,EACF,OAAA7B,EAAO,QAAQ,mBAAmB6B,CAAI,EAC/B,EAEX,MAAQ,CAAC,CAEX,MAAO,EACT,EAAG,CAAC3B,CAAW,CAAC,EAEhB,MAAO,CAAE,OAAAH,EAAQ,YAAAG,EAAa,MAAAE,EAAO,UAAAuB,EAAW,WAAAf,EAAY,cAAAgB,EAAe,mBAAAE,CAAmB,CAChG,CDtOM,cAAAC,MAAA,oBAlEC,IAAMC,EAAkBC,EAAqD,CAAC,CACnF,WAAAC,EACA,SAAAC,EACA,SAAAC,EAAW,GACX,WAAAC,EAAa,UACb,UAAAC,EACA,MAAAC,EACA,cAAAC,EAAgB,GAChB,aAAAC,EAAe,GACf,cAAAC,EAAgB,GAChB,cAAAC,EAAgB,GAChB,iBAAAC,EAAmB,EACnB,aAAAC,EAAe,EACf,UAAAC,EACA,aAAAC,EACA,QAAAC,EACA,YAAAC,CACF,EAAGC,IAAQ,CACT,GAAM,CAACC,EAASC,CAAU,EAAIC,EAAS,EAAK,EAE5CC,EAAU,IAAM,CACdF,EAAW,EAAI,CACjB,EAAG,CAAC,CAAC,EAEL,IAAMG,EAAMC,EAAQ,IAAML,EAAU,SAASjB,CAAU,uBAAyB,GAAI,CAACA,EAAYiB,CAAO,CAAC,EAEnGM,EAAcD,EAAQ,KAAO,CACjC,SAAU,OACV,SAAArB,EACA,OAAQ,GAAGD,CAAU,WACvB,GAAI,CAACA,EAAYC,CAAQ,CAAC,EAEpB,CACJ,OAAAuB,EACA,YAAAC,EACA,UAAAC,EACA,WAAAC,EACA,cAAAC,EACA,mBAAAC,CACF,EAAIC,EAAO,CACT,IAAAT,EACA,YAAAE,EACA,WAAApB,EACA,SAAUD,EACV,cAAAI,EACA,aAAAC,EACA,cAAAC,EACA,cAAAC,EACA,iBAAAC,EACA,aAAAC,EACA,UAAAC,EACA,aAAAC,EACA,QAAAC,EACA,YAAAC,CACF,CAAC,EAUD,OARAgB,EAAoBf,EAAK,KAAO,CAC9B,UAAAU,EACA,WAAAC,EACA,cAAAC,EACA,mBAAAC,EACA,YAAAJ,CACF,GAAI,CAACC,EAAWC,EAAYC,EAAeC,EAAoBJ,CAAW,CAAC,EAEtER,EAeHpB,EAAC,OACC,IAAK2B,EACL,UAAWpB,EACX,MAAO,CACL,MAAO,OACP,OAAQ,OACR,WAAAD,EACA,cAAeD,EAAW,OAAS,OACnC,OAAQA,EAAW,UAAY,OAC/B,QAASuB,EAAc,EAAI,EAC3B,WAAY,2BACZ,GAAGpB,CACL,EACF,EA1BER,EAAC,OACC,UAAWO,EACX,MAAO,CACL,MAAO,OACP,OAAQ,OACR,WAAAD,EACA,GAAGE,CACL,EACF,CAoBN,CAAC,EAEDP,EAAgB,YAAc","names":["useMemo","useImperativeHandle","forwardRef","useState","useEffect","useState","useEffect","useRef","useCallback","useVNC","url","credentials","background","viewOnly","scaleViewport","clipViewport","resizeSession","showDotCursor","compressionLevel","qualityLevel","onConnect","onDisconnect","onError","onClipboard","vncRef","rfbRef","RFBRef","isConnected","setIsConnected","error","setError","isMounted","isDisconnecting","retryTimer","retryCount","connecting","mod","disconnect","rfb","event","listeners","listener","ws","connect","e","detail","delay","reason","canvas","err","message","initTimer","reconnect","sendClipboard","text","pasteFromClipboard","jsx","ComputerDisplay","forwardRef","instanceId","password","readOnly","background","className","style","scaleViewport","clipViewport","resizeSession","showDotCursor","compressionLevel","qualityLevel","onConnect","onDisconnect","onError","onClipboard","ref","mounted","setMounted","useState","useEffect","url","useMemo","credentials","vncRef","isConnected","reconnect","disconnect","sendClipboard","pasteFromClipboard","useVNC","useImperativeHandle"]}